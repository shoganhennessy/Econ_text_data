library(tidyverse)
library(data.table)
library(stringi)
library(ggplot2)
library(RColorBrewer)
library(ggrepel)
library(tidytext)
library(scales)
theme_set(theme_bw())
fread('../Data/RePEc_data/Journals_data/Journal_info.tsv', sep = '\t', nrows = 20)
getwd()
cd
setwd("~/Dropbox/Econ_text_data/Summary_stats")
getwd()
fread('../Data/RePEc_data/Journals_data/Journal_info.tsv', sep = '\t', nrows = 20)
fread('../Data/RePEc_data/Journals_data/Journal_info.tsv', sep = '\t', nrows = 50)
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.tsv')
setwd("~/Dropbox/Econ_text_data/Summary_stats")
library(tidyverse)
library(data.table)
library(stringi)
library(ggplot2)
library(RColorBrewer)
library(ggrepel)
library(tidytext)
library(scales)
theme_set(theme_bw())
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.tsv')
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv', quote = "")
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv', nrows = 500)
library(tidyverse)
library(data.table)
library(stringi)
library(ggplot2)
library(RColorBrewer)
library(ggrepel)
library(tidytext)
library(scales)
theme_set(theme_bw())
setwd("~/Dropbox/Econ_text_data/Summary_stats")
fread('../Data/RePEc_data/Journals_data/Journal_info.tsv', nrows = 305)
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv', nrows = 500)
Economists.data <- fread('../Data/RePEc_data/Economists_data/Economists_repec_data.csv')
# Load the data on published articles
Articles.data <- fread('../Data/RePEc_data/Papers_data/Journal_articles_repec.csv')
# Load data on Journals, collected 09/01/2020
# https://ideas.repec.org/top/top.journals.all.html
Journals.data <- fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv', nrows = 500) %>%
mutate(publisher = sub('^[^,]*', '', journal_title),
journal_title = sub('\\,.*', '', journal_title) %>% str_replace(', ', ''))
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv', nrows = 500)
rm(list = ls())
gc()
Journals.data
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, cache = F, fig.align = 'center')
library(tidyverse)
library(data.table)
library(stringi)
library(ggplot2)
library(RColorBrewer)
library(ggrepel)
library(tidytext)
library(scales)
theme_set(theme_bw())
# Load the data on Economists
Economists.data <- fread('../Data/RePEc_data/Economists_data/Economists_repec_data.csv')
# Load the data on published articles
Articles.data <- fread('../Data/RePEc_data/Papers_data/Journal_articles_repec.csv')
# Load data on Journals, collected 09/01/2020
# https://ideas.repec.org/top/top.journals.all.html
Journals.data <- fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv', nrows = 500) %>%
mutate(publisher = sub('^[^,]*', '', journal_title),
journal_title = sub('\\,.*', '', journal_title) %>% str_replace(', ', ''))
Journals.data
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv', nrows = 500) %>%
mutate(publisher = sub('^[^,]*', '', journal_title) %>% str_remove(', '),
journal_title = sub('\\,.*', '', journal_title) %>% str_replace(', ', ''))
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv') %>% taile(50) %>% pull(journal_title)
fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv') %>% tail(50) %>% pull(journal_title)
Journals.data %>% arrange(rank)
Journals.data %>% arrange(rank) %>% head(1) %>% pull(journal_title)
rm(list=ls())
gc()
rm(list=ls())
gc()
Economists.data <- fread('../Data/RePEc_data/Economists_data/Economists_repec_data.csv')
# Load the data on published articles
Articles.data <- fread('../Data/RePEc_data/Papers_data/Journal_articles_repec.csv')
# Load data on Journals, collected 09/01/2020 : https://ideas.repec.org/top/top.journals.all.html
Journals.data <- fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
###
Articles.data
setwd("~/Dropbox/Econ_text_data/Summary_stats")
Economists.data <- fread('../Data/RePEc_data/Economists_data/Economists_repec_data.csv')
# Load the data on published articles
Articles.data <- fread('../Data/RePEc_data/Papers_data/Journal_articles_repec.csv')
# Load data on Journals, collected 09/01/2020 : https://ideas.repec.org/top/top.journals.all.html
Journals.data <- fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
###
Articles.data
library(tidyverse)
library(data.table)
# Load the data on Economists
Economists.data <- fread('../Data/RePEc_data/Economists_data/Economists_repec_data.csv')
# Load the data on published articles
Articles.data <- fread('../Data/RePEc_data/Papers_data/Journal_articles_repec.csv')
# Load data on Journals, collected 09/01/2020 : https://ideas.repec.org/top/top.journals.all.html
Journals.data <- fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
###
Articles.data
###
Articles.data %>% names()
Articles.data %>% pull(journal_title)
Articles.data %>% pull(journal_title) %>% table()
Articles.data %>% left_join(Journals.data, by = 'journal_title')
devtools::install_github("dgrtwo/fuzzyjoin")
%>%
stringdist_inner_join(words, by = c(misspelling = "word"), max_dist = 2,
distance_col = "distance")
Articles.data %>% sample_n(10)
Articles.data %>% sample_n(10) %>% stringdist_inner_join(Journals.data,
by = 'journal_title', #max_dist = 2,
distance_col = 'distance')
# https://github.com/dgrtwo/fuzzyjoin
library(fuzzyjoin)
Articles.data %>% sample_n(10) %>% stringdist_inner_join(Journals.data,
by = 'journal_title', #max_dist = 2,
distance_col = 'distance')
Articles.data %>% sample_n(10) %>%
stringdist_inner_join(Journals.data, by = 'journal_title', distance_col = 'distance') %>% names()
Articles.data %>% sample_n(10) %>%
stringdist_inner_join(Journals.data, by = 'journal_title', distance_col = 'distance') %>%
select(journal_title.x, publisher.x, journal_title.y, publisher.y, distance)
Articles.data %>% sample_n(10) %>%
stringdist_inner_join(Journals.data, by = 'journal_title', distance_col = 'distance') %>%
select(journal_title.x, journal_title.y, distance, publisher.x, publisher.y)
Articles.data %>% sample_n(10) %>%
stringdist_inner_join(Journals.data, by = 'journal_title', distance_col = 'distance') %>%
arrange(distance) %>% head(100)
Articles.data %>% sample_n(10) %>%
stringdist_inner_join(Journals.data, by = 'journal_title', distance_col = 'distance') %>%
arrange(-distance) %>% head(100)
Articles.data %>% sample_n(1000) %>%
stringdist_inner_join(Journals.data, by = 'journal_title', distance_col = 'distance') %>%
arrange(-distance) %>% head(100)
Articles.data %>% sample_n(10000) %>%
stringdist_inner_join(Journals.data, by = 'journal_title', distance_col = 'distance') %>%
arrange(-distance) %>% head(20) %>%
select(journal_title.x, journal_title.y, distance, publisher.x, publisher.y)
Articles.data %>% sample_n(100) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', '))
stringdist_inner_join(
mutate(Journals.data, journal_id_publisher = paste(journal_title, publisher, sep = ', ')),
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance')
Articles.data %>% sample_n(100) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(
mutate(Journals.data, journal_id_publisher = paste(journal_title, publisher, sep = ', ')),
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance')
Articles.data %>% sample_n(100) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(
mutate(Journals.data, journal_id_publisher = paste(journal_title, publisher, sep = ', ')),
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>% names()
mutate(Journals.data, journal_id_publisher = paste(journal_title, publisher, sep = ', ')),
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
arrange(-distance) %>% head(20) %>%
select(journal_id_article, journal_id_publisher, distance)
Articles.data %>% sample_n(100) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(
mutate(Journals.data, journal_id_publisher = paste(journal_title, publisher, sep = ', ')),
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
arrange(-distance) %>% head(20) %>%
select(journal_id_article, journal_id_publisher, distance)
Articles.data %>% sample_n(10000) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(
mutate(Journals.data, journal_id_publisher = paste(journal_title, publisher, sep = ', ')),
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
filter(distance > 0) %>% arrange(-distance) %>% head(20) %>%
select(journal_id_article, journal_id_publisher, distance)
Journals.data %>% names()
Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data %>% sample_n(10000) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
filter(distance > 0) %>% arrange(-distance) %>% head(20) %>%
select(journal_id_article, journal_id_publisher, distance)
Articles.data %>% #sample_n(10000) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
filter(distance > 0) %>% arrange(-distance) %>% head(20) %>%
select(journal_id_article, journal_id_publisher, distance)
Economists.data %>% count(degree)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data %>% #sample_n(10000) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
filter(distance > 0) %>% arrange(-distance) %>%
select(journal_id_article, journal_id_publisher, distance) %>% count() %>% head(100)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data %>% #sample_n(10000) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
filter(distance > 0) %>% arrange(-distance) %>%
count(journal_id_article, journal_id_publisher, distance) %>% head(100)
Articles.data %>% #sample_n(10000) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
filter(distance > 0) %>% arrange(-distance) %>%
count(journal_id_article, journal_id_publisher, distance) %>% arrange(-n*distance) %>% head(100)
Articles.data %>% #sample_n(10000) %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher'),
distance_col = 'distance') %>%
filter(distance > 0) %>% arrange(-distance) %>%
count(journal_id_article, journal_id_publisher, distance) %>% arrange(distance) %>% head(100)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
filter(rank <= 5) %>% count(journal_id_article, journal_id_publisher)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
filter(rank <= 5) %>% count(journal_id_article, journal_id_publisher, rank)
Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
filter(rank <= 10) %>% count(journal_id_article, journal_id_publisher, rank)
Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
filter(rank <= 10) %>% count(journal_id_article, journal_id_publisher, rank) %>% arrange(rank)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, cache = F, fig.align = 'center')
library(tidyverse)
library(data.table)
library(stringi)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, cache = F, fig.align = 'center')
library(tidyverse)
library(data.table)
library(tidytext)
# https://github.com/dgrtwo/fuzzyjoin
library(fuzzyjoin)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data <- Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
select(-journal_id_article, -journal_id_publisher)
Articles.data %>% filter(rank <= 10) %>% count(journal_title) %>% arrange(rank)
rm(list = ls())
gc()
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, cache = F, fig.align = 'center')
library(tidyverse)
library(data.table)
library(tidytext)
# https://github.com/dgrtwo/fuzzyjoin
library(fuzzyjoin)
# Load the data on Economists
Economists.data <- fread('../Data/RePEc_data/Economists_data/Economists_repec_data.csv')
# Load the data on published articles
Articles.data <- fread('../Data/RePEc_data/Papers_data/Journal_articles_repec.csv')
# Load data on Journals, collected 09/01/2020
# https://ideas.repec.org/top/top.journals.all.html
Journals.data <- fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
# Get the top Journal
top_journal <- Journals.data %>%
arrange(rank) %>% head(1) %>% pull(journal_title)
# Get the bottom Journal
bottom_journal <- Journals.data %>%
arrange(rank) %>% tail(1) %>% pull(journal_title)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data <- Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
select(-journal_id_article, -journal_id_publisher)
Articles.data %>% filter(rank <= 10) %>% count(journal_title) %>% arrange(rank)
Articles.data %>% filter(rank <= 10) %>% count(rank, journal_title) %>% arrange(rank)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data <- Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
select(-journal_id_article, -journal_id_publisher)
Articles.data %>% filter(rank <= 20) %>% count(rank, journal_title) %>% arrange(rank)
Articles.data %>% filter(rank <= 20)
Articles.data
Articles.data %>% pull(rank)
Articles.data %>% names()
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, cache = F, fig.align = 'center')
library(tidyverse)
library(data.table)
library(tidytext)
# https://github.com/dgrtwo/fuzzyjoin
library(fuzzyjoin)
# Load the data on Economists
Economists.data <- fread('../Data/RePEc_data/Economists_data/Economists_repec_data.csv')
# Load the data on published articles
Articles.data <- fread('../Data/RePEc_data/Papers_data/Journal_articles_repec.csv')
# Load data on Journals, collected 09/01/2020
# https://ideas.repec.org/top/top.journals.all.html
Journals.data <- fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
# Get the top Journal
top_journal <- Journals.data %>%
arrange(rank) %>% head(1) %>% pull(journal_title)
# Get the bottom Journal
bottom_journal <- Journals.data %>%
arrange(rank) %>% tail(1) %>% pull(journal_title)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data <- Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
select(-journal_id_article, -journal_id_publisher)
Articles.data %>% count(rank, journal_title) %>% filter(rank <= 20) %>% arrange(rank)
rm(list = ls())
gc()
?knitr::kable
install.packages('kableExtra')
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, cache = F, fig.align = 'center')
library(tidyverse)
library(data.table)
library(tidytext)
# https://github.com/dgrtwo/fuzzyjoin
library(fuzzyjoin)
library(kableExtra)
library(kable)
install.packages('knitr')
install.packages("knitr")
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, cache = F, fig.align = 'center')
library(tidyverse)
library(data.table)
library(tidytext)
# https://github.com/dgrtwo/fuzzyjoin
library(fuzzyjoin)
library(kableExtra)
# Load the data on Economists
Economists.data <- fread('../Data/RePEc_data/Economists_data/Economists_repec_data.csv')
# Load the data on published articles
Articles.data <- fread('../Data/RePEc_data/Papers_data/Journal_articles_repec.csv')
# Load data on Journals, collected 09/01/2020
# https://ideas.repec.org/top/top.journals.all.html
Journals.data <- fread('../Data/RePEc_data/Journals_data/Journal_info_repec.csv')
# Get the top Journal
top_journal <- Journals.data %>%
arrange(rank) %>% head(1) %>% pull(journal_title)
# Get the bottom Journal
bottom_journal <- Journals.data %>%
arrange(rank) %>% tail(1) %>% pull(journal_title)
Journals_tomerge.data <- Journals.data %>%
mutate(journal_id_publisher = paste(journal_title, publisher, sep = ', ')) %>%
select(rank, journal_id_publisher)
Articles.data <- Articles.data %>%
mutate(journal_id_article = paste(journal_title, publisher, sep = ', ')) %>%
stringdist_inner_join(Journals_tomerge.data,
by = c(journal_id_article = 'journal_id_publisher')) %>%
select(-journal_id_article, -journal_id_publisher)
Articles.data %>% count(rank, journal_title) %>%
filter(rank <= 10) %>% arrange(rank) %>%
knitr::kable(format = 'markdown') %>%
kable_styling(position = "center")
rm(list=ls())
gc()
